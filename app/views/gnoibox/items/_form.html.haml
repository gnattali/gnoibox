=form_for @item, as: :item, url: (@item.persisted? ? gnoibox_box_item_path(@box.key, @item) : gnoibox_box_items_path(@box.key) ) do |f|
  - if @item.errors.any?
    #error_explanation
      %h2= "#{pluralize(@item.errors.count, "error")} prohibited this admin_item from being saved:"
      %ul
        - @item.errors.full_messages.each do |msg|
          %li= msg

  .field
    = f.label :url, 'URL'
    = f.text_field :url
  .field
    = f.label :title, 'タイトル'
    = f.text_field :title
  .field
    = f.label :description, '説明'
    = f.text_area :description
  .field
    = f.label :keywords, 'キーワード'
    = f.text_field :keywords
  .field
    =f.label :main_image, 'メイン画像'
    =f.file_field :main_image
    =f.hidden_field :main_image_cache
  .field
    = f.label :published_at, '日付'
    = f.datetime_select :published_at

  %br

  -if @item.class.view_file_options
    .field
      = f.label :view_file
      = f.select :view_file, @item.class.view_file_options

  =f.fields_for :content, @item.content do |content_f|
    -@item.content.cols.each do |col|
      .field
        =content_f.label col.label
        =render partial: "gnoibox/columns/#{col.partial_name}", locals: {f: content_f, col: col, item: @item}

  %br

  .actions
    = f.submit 'Save'
